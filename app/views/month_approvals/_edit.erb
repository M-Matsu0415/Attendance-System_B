<!--上長ユーザーが一ヶ月分の勤怠承認を実行するモーダルウィンドウ-->
<div class="modal-dialog modal-lg modal-dialog-center">
  <div class="modal-content">
    <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
        <%= form_with(model: @month_approvals, url: {controller: 'month_approvals', action: 'update'}, local: true, method: :patch) do |f| %>
          <% @month_approvals.each do |month_approval| %>
          <% applicant_user_id = month_approval.applicant_user_id %>
          <% user = User.find_by(id: applicant_user_id) %>
              <h3 class = "modal-title"><%= "【#{user.name}さんからの一ヶ月分勤怠申請】" %></h3>
                <table class = "table table-bordered table-condensed table-bases" id = "table-month_approvals">
                  <thead>
                    <tr>
                      <th>月</th>
                      <th>指示者確認㊞</th>
                      <th>変更確認</th>
                      <th>勤怠を確認する</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <%= "#{month_approval.approval_month.mon}月" %>
                      </td>
                      <td>
                        <%= f.select :approval_status, [["申請中", "1"], ["承認", "2"], ["否認", "3"]], { include_blank: "なし" }, class: "month-approval-form-control" %>
                      </td>
                      <td>
                        <%= f.label "変更する" %>
                        <%= f.check_box :must, id: "month-approval-change-check" %>
                      </td>
                      <td>
                        <%= link_to "確認", "#", class: "btn btn-md btn-primary btn-attendance-monitor"%>
                      </td>
                    </tr>
                  </tbody>
                </table>
          <% end %>
          <%= f.submit "変更を送信する", class: "btn btn-md btn-primary btn-block btn-approval"%>
      <% end %>
    </div>
  </div>
</div>